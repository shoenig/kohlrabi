#!/usr/bin/env python

import json
import urllib

# Daily Signups for 2011-02-13
urllib.urlopen('http://localhost:8888/kohlrabi/upload',
               urllib.urlencode({'date': '2011-02-13',
                                 'data': json.dumps([{'referrer': 'www.yahoo.com',
                                                      'clickthroughs': 32984,
                                                      'signups': 123},
                                                     {'referrer': 'www.google.com',
                                                      'clickthroughs': 23452,
                                                      'signups': 432},
                                                     {'referrer': 'www.excite.com',
                                                      'clickthroughs': 82,
                                                      'signups': 0},
                                                     {'referrer': 'www.ask.com',
                                                      'clickthroughs': 31,
                                                      'signups': 0},
                                                     {'referrer': 'www.cuil.com',
                                                      'clickthroughs': 4,
                                                      'signups': 0},
                                                     {'referrer': 'www.bing.com',
                                                      'clickthroughs': 21032,
                                                      'signups': 98}]),
                                 'module': 'DailySignups'}))

# Daily Signups for 2011-02-14
urllib.urlopen('http://localhost:8888/kohlrabi/upload',
               urllib.urlencode({'date': '2011-02-14',
                                 'data': json.dumps([{'referrer': 'www.yahoo.com',
                                                      'clickthroughs': 32234,
                                                      'signups': 87},
                                                     {'referrer': 'www.google.com',
                                                      'clickthroughs': 21103,
                                                      'signups': 499},
                                                     {'referrer': 'www.excite.com',
                                                      'clickthroughs': 65,
                                                      'signups': 0},
                                                     {'referrer': 'www.ask.com',
                                                      'clickthroughs': 45,
                                                      'signups': 1},
                                                     {'referrer': 'www.cuil.com',
                                                      'clickthroughs': 1,
                                                      'signups': 0},
                                                     {'referrer': 'www.bing.com',
                                                      'clickthroughs': 29238,
                                                      'signups': 121}]),
                                 'module': 'DailySignups'}))

# MySQL Query Report for 2011-02-13
urllib.urlopen('http://localhost:8888/kohlrabi/upload',
               urllib.urlencode({'date': '2011-02-13',
                                 'data': json.dumps([{'servlet': 'api.web_cmds',
                                                      'servlet_count': 3,
                                                      'query_text': 'SELECT * FROM some_silly_table',
                                                      'query_count': 343,
                                                      'query_mean': 83.2,
                                                      'query_median': 89.0,
                                                      'query_total': 233442.2,
                                                      'query_95': 213212.34,
                                                      'query_stddev': 12.3},
                                                     {'servlet': 'api.something',
                                                      'servlet_count': 42,
                                                      'query_text': 'SELECT * FROM not_a_table WHERE id IN (0,1,2,3,4,5)',
                                                      'query_count': 435243,
                                                      'query_mean': 823234.4232,
                                                      'query_median': 83232.23,
                                                      'query_total': 233.221,
                                                      'query_95': 213.232,
                                                      'query_stddev': 321.23}]),
                                 'module': 'MySQLQueryReport'}))

# MySQL Query Report for 2011-02-14
urllib.urlopen('http://localhost:8888/kohlrabi/upload',
               urllib.urlencode({'date': '2011-02-14',
                                 'data': json.dumps([{'servlet': 'api.web_cmds',
                                                      'servlet_count': 4,
                                                      'query_text': 'SELECT * FROM some_silly_table',
                                                      'query_count': 3221,
                                                      'query_mean': 83.1,
                                                      'query_median': 83.0,
                                                      'query_total': 233922.1,
                                                      'query_95': 2132323.2,
                                                      'query_stddev': 11.1},
                                                     {'servlet': 'api.something',
                                                      'servlet_count': 43,
                                                      'query_text': 'SELECT * FROM not_a_table WHERE id IN (0,1,2,3,4,5)',
                                                      'query_count': 435213,
                                                      'query_mean': 823233.4232,
                                                      'query_median': 83322.23,
                                                      'query_total': 23932.21,
                                                      'query_95': 223.233,
                                                      'query_stddev': 322.33}]),
                                 'module': 'MySQLQueryReport'}))
